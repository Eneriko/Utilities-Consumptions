<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="final.css">
    <title>Gas</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="consumption.js"></script>
    
</head>
<body>
  <header>
    <!--barra in alto che non si sposta mai-->
      <nav>  
      <!--logo-->
      <a href="homepage.html"><img id="logo" src="logo.jpg" alt="logo"></a>
      <!--barra delle opzioni del menÃ¹-->
        <ul>
          <li>
            <a href="homepage.html">Home</a>
          </li>
          <li >
            <a href="consumptions.html">Consumptions</a>
          </li>
          <li>
            <a href="billing.html">Billing</a>
          </li>
          <li>
              <a href="profile.html">Profile</a>  
          </li>
        </ul>
  
      </nav>
    </header>
    <h1>Gas</h1>
    <p>Gas Monthly Consumption per Day</p>

     <!--Div that will hold the pie chart-->
    <div>
      <canvas id="myChart"></canvas>
    </div>

    <script>
      var today = new Date()
      var date = today.getDate()
      var days = new Array()
      var consu = new Array()

      for(let i = 0; i < date; i++){
        days[i] = i+1
        var r1 = Math.floor(Math.random() * 9);   
        consu[i] = r1
        //total += r1              
      }
      
      const labels = days

      const data = {
        labels: labels,
        datasets: [{
          label: 'Consumption (smc)',
          backgroundColor: 'rgb(255, 99, 132)',
          borderColor: 'rgb(255, 99, 132)',
          data: consu,
        }]
      };

      const config = {
        type: 'line',
        data: data,
        options: {}
      };
    </script>
    <script>
      const myChart = new Chart(
      document.getElementById('myChart'), config);
    </script>
</body>
</html>